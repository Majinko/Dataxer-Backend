<form [formGroup]="formGroup" action="" autocomplete="off" (ngSubmit)="onSubmit(formGroup.value)">
  <div class="row mb-4">
    <div class="col d-flex align-items-center mb-3" [class.justify-content-between]="dialogRef">
      <h1 class="mb-0">Vytvorenie novej kategórie</h1>
      <a *ngIf="dialogRef" mat-icon-button class="close-icon cursor-pointer" mat-dialog-close>
        <mat-icon>close</mat-icon>
      </a>
    </div>
  </div>

  <div class="row align-items-center">
    <div class="col-12" *ngIf="categories">
      <ng-select [items]="categories"
                 #select
                 bindLabel="name"
                 placeholder="Rodičovnská kategória"
                 formControlName="parent">
        <ng-template ng-option-tmp let-item="item" let-search="searchTerm">
          <div><span>{{item.name}}</span></div>
        </ng-template>
      </ng-select>
    </div>

    <div class="col-12">
      <mat-form-field class="form-group w-100">
        <input matInput placeholder="Návoz kategórie" formControlName="name" required>
        <mat-error *ngIf="formGroup.invalid">Návoz kategórie</mat-error>
      </mat-form-field>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12 text-right">
      <div *ngIf="dialogRef === null; else dialogProject">
        <button routerLink="/setting/category" mat-stroked-button class="btn-icon btn-theme-stroked mr-3">
          <mat-icon>cancel</mat-icon>
          Zrušiť
        </button>
        <button mat-flat-button class="btn-icon btn-theme">
          <mat-icon>save</mat-icon>
          Uložiť
        </button>
      </div>

      <ng-template #dialogProject>
        <button (click)="close()" mat-stroked-button class="btn-icon btn-theme-stroked">
          <mat-icon>save</mat-icon>
          Uložiť
        </button>
      </ng-template>
    </div>
  </div>
</form>
